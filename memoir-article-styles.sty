%%% Some article styles and page layout tweaks for the memoir class
%%% Barrett Kirwan, adapted from Kieran Healy


%% blank footnote
% Use \symbolfootnote[0]{Footnote text} for a blank footnote.
% Useful for initial acknowledgment note.
\long\def\symbolfootnote[#1]#2{\begingroup%
  \def\thefootnote{\fnsymbol{footnote}}\footnote[#1]{#2}\endgroup}

%%% redefine \and and \andnext to remove tabular environment
%%% needed below for custom article-styles when multiple authors are present.
% \renewcommand{\and}{\, }
% \renewcommand*{\andnext}{%
% \\\medskip }

%%%
%%% lectures
%%%

\makechapterstyle{lecture}{
  % Set up the page layout
  % \setstocksize{11in}{8.5in}
  % \settrimmedsize{\stockheight}{\stockwidth}{*}
  % \setlrmarginsandblock{1in}{2in}{*}
  % \setulmarginsandblock{1in}{*}{*}
  % \setheadfoot{\onelineskip}{2\onelineskip}
  % \setheaderspaces{*}{2\onelineskip}{*}

  \setlength{\headwidth}{\textwidth}
  \addtolength{\headwidth}{\marginparsep}
  \addtolength{\headwidth}{\marginparwidth}

  % Section headings styles
  \setsecheadstyle{\Large\sffamily}
  \setsubsecheadstyle{\normalsize\itshape}
  % \setsubsubsecheadstyle{\small\bfseries}
  \setaftersubsubsecskip{-1em}
  \setaftersecskip{1.7ex}
  \setsubsubsecindent{0em}
  \setaftersubsubsecskip{0em}
  \setsubsubsecheadstyle{\marginhead}

  % Part formatting
  % \renewcommand{\parttitlefont}{\LARGE\sffamily\raggedright}
  % \renewcommand{\partnumfont}{\parttitlefont}

  % Chapter name, title, etc
  \renewcommand{\chaptitlefont}{\LARGE\sffamily\raggedright}
  \renewcommand{\chapnumfont}{\chaptitlefont}
  \setlength{\beforechapskip}{0pt}
  \setlength{\midchapskip}{40pt}
  \setlength{\afterchapskip}{40pt}
  \renewcommand\chapterheadstart{\vspace*{\beforechapskip}}
  \renewcommand*{\chapnumfont}{\chaptitlefont}
  % allow for 99 chapters!
  \settowidth{\chapindent}{\chapnumfont 999}
  \renewcommand*{\printchaptername}{}
  \renewcommand*{\chapternamenum}{}
  \renewcommand*{\chapnumfont}{\chaptitlefont}
  \renewcommand*{\printchapternum}{%
    \noindent\llap{\makebox[\chapindent][l]{%
        \chapnumfont \thechapter}}}
  \renewcommand*{\afterchapternum}{}
  \renewcommand\printchaptertitle[1]{%
    \chaptitlefont ##1}
  % \renewcommand\afterchaptertitle{\par\nobreak\vskip \afterchapskip}
  \renewcommand{\prechapterprecis}{%
    \vspace*{\prechapterprecisshift}%
    \begin{flushleft}\begin{minipage}{\textwidth}
        \precisfont}
      \renewcommand{\postchapterprecis}{\end{minipage}\end{flushleft}}
  \renewcommand*{\precisfont}{\sffamily\itshape}

  % cft stands for Contents, Figures, Tables
  \renewcommand{\cftchapterfont}{\normalfont}
  \renewcommand{\cftchapterpagefont}{\normalfont\scshape}
  \renewcommand{\cftchapterpresnum}{\scshape}
  \setlength{\cftbeforechapterskip}{10pt}
  \addtocontents{toc}{\protect\mbox{}\protect\hrulefill\par}
  \settocdepth{subsection}
  \captiontitlefont{\small}

  % Controls which divisions are numbered
  \maxsecnumdepth{chapter}
  \setsecnumdepth{chapter}

  % set name of bibliography to 'references'
  % \renewcommand{\bibname}{\mdseries\Large\scshape\MakeLowercase References}

  % Title flush left
  \pretitle{\begin{flushleft}\hspace{-7em}\LARGE\sffamily}
    \posttitle{\end{flushleft}\par\vskip 0.5em}
  \preauthor{\begin{flushleft}\hspace{-7em}\begin{minipage}{\textwidth}\sffamily\itshape  \Large \vspace{0.5em}}
      \postauthor{\end{minipage}\end{flushleft}}
  \predate{\begin{flushleft}\hspace{-7em}\sffamily\footnotesize\vspace{0.9em}}
    \postdate{\end{flushleft}\par}

  % \checkandfixthelayout
}

%%%
%%% homework
%%%

\makechapterstyle{homework}{
  \setsecheadstyle{\Large\sffamily}
  \setsubsecheadstyle{\normalsize\itshape}
  \setaftersubsubsecskip{-1em}
  \setsubsubsecheadstyle{\small\bfseries}
  \renewcommand{\printchaptername}{}
  \renewcommand{\chapternamenum}{}
  \renewcommand{\chapnumfont}{\chaptitlefont}
  \renewcommand{\printchapternum}{\chapnumfont \thechapter\space}
  \renewcommand{\afterchapternum}{}
  \renewcommand{\printchaptername}{\secheadstyle}
  \renewcommand{\cftchapterfont}{\normalfont}
  \renewcommand{\cftchapterpagefont}{\normalfont\scshape}
  \renewcommand{\cftchapterpresnum}{\scshape}
  % \renewcommand{\cftchapterleader}{}
  % \renewcommand{\cftchapterafterpnum}{\cftparfillskip}
  \captiontitlefont{\small}
  % \settocdepth{chapter}
  \maxsecnumdepth{chapter}
  \setsecnumdepth{chapter}

  % reduce skip after section heading
  \setaftersecskip{1.7ex}

  % set name of bibliography to 'references'
  % \renewcommand{\bibname}{\mdseries\Large\scshape\MakeLowercase References}

  % Title flush left
  \pretitle{\begin{flushleft}\LARGE\sffamily}
    \posttitle{\end{flushleft}\par\vskip 0.5em}
  % \preauthor{\begin{flushleft}\begin{minipage}{\textwidth}\sffamily\itshape  \Large \vspace{0.5em}}
  %     \postauthor{\end{minipage}\end{flushleft}}
  \predate{\begin{flushleft}\sffamily\footnotesize\vspace{0em}}
    \postdate{\end{flushleft}\vspace{0em}}

  \setheaderspaces{*}{3em}{*}
  % 'abstract' title, bigger skip from title
  \addto\captionsamerican{\renewcommand{\abstractname}{Instructions: }}
  \renewcommand{\abstractnamefont}{\normalfont\small\itshape}
  \renewcommand{\abstracttextfont}{\normalfont\small}
  \abstractrunin

}

%%%
%%% BKBook
%%%

\makechapterstyle{BKBook}{
  % Title flush left
  \pretitle{\begin{flushleft}\LARGE\sffamily\vspace{-1in}}
    \posttitle{\end{flushleft}\par\vskip 0.5em}
  \preauthor{\begin{flushleft}\begin{minipage}{\textwidth}\sffamily\itshape  \Large \vspace{0.5em}}
      \postauthor{\end{minipage}\end{flushleft}}
  \predate{\begin{flushleft}\sffamily\footnotesize\vspace{0.9em}}
    \postdate{\end{flushleft}\par}

  % cft stands for Contents, Figures, Tables
  \renewcommand{\cftchapterfont}{\normalfont}
  \renewcommand{\cftchapterpagefont}{\normalfont\scshape}
  \renewcommand{\cftchapterpresnum}{\normalfont\scshape}
  \setlength{\cftbeforechapterskip}{10pt}
  \addtocontents{toc}{\protect\mbox{}\protect\hrulefill\par}
  \settocdepth{subsection}

  % Chapter name, title, etc
  \renewcommand{\chaptitlefont}{\LARGE\sffamily\raggedright}
  \renewcommand{\chapnumfont}{\chaptitlefont}
  \setlength{\beforechapskip}{0pt}
  \setlength{\midchapskip}{40pt}
  \setlength{\afterchapskip}{40pt}
  \renewcommand\chapterheadstart{\vspace*{\beforechapskip}}
  \renewcommand*{\chapnumfont}{\chaptitlefont}
  % allow for 99 chapters!
  \settowidth{\chapindent}{\chapnumfont 999}
  \renewcommand*{\printchaptername}{}
  \renewcommand*{\chapternamenum}{}
  \renewcommand*{\printchapternum}{%
    \noindent\llap{\makebox[\chapindent][l]{%
        \chapnumfont \thechapter}}}
  \renewcommand*{\afterchapternum}{}

  \renewcommand\printchaptertitle[1]{%
    \chaptitlefont ##1}
  % \renewcommand\afterchaptertitle{\par\nobreak\vskip \afterchapskip}

  \renewcommand{\prechapterprecis}{%
    \vspace*{\prechapterprecisshift}%
    \begin{flushleft}\begin{minipage}{\textwidth}
        \precisfont}
      \renewcommand{\postchapterprecis}{\end{minipage}\end{flushleft}}
  \renewcommand*{\precisfont}{\sffamily\itshape}

  \setsecheadstyle{\Large\sffamily}
  \setsubsecheadstyle{\normalsize\itshape}
  % \setsubsubsecheadstyle{\small\bfseries}
  \setaftersubsubsecskip{-1em}
  \setaftersecskip{1.7ex}
  \setsubsubsecindent{0em}
  \setaftersubsubsecskip{0em}
  \setsubsubsecheadstyle{\marginhead}

  \setlength{\headwidth}{\textwidth}
  \addtolength{\headwidth}{\marginparsep}
  \addtolength{\headwidth}{\marginparwidth}

  \setheaderspaces{*}{3em}{*}

  \captiontitlefont{\small}
  % Controls which divisions are numbered
  \maxsecnumdepth{chapter}
  \setsecnumdepth{chapter}

  % set name of bibliography to 'references'
  % \renewcommand{\bibname}{\mdseries\Large\scshape\MakeLowercase References}

}


%%%
%%% article-1
%%%
\makechapterstyle{article-1}{
  \setsecheadstyle{\Large\scshape}
  \setsubsecheadstyle{\normalsize\itshape}
  \renewcommand{\printchaptername}{}
  \renewcommand{\chapternamenum}{}
  \renewcommand{\chapnumfont}{\chaptitlefont}
  \renewcommand{\printchapternum}{\chapnumfont \thechapter\space}
  \renewcommand{\afterchapternum}{}
  \renewcommand{\printchaptername}{\secheadstyle}
  \renewcommand{\cftchapterfont}{\normalfont}
  \renewcommand{\cftchapterpagefont}{\normalfont\scshape}
  \renewcommand{\cftchapterpresnum}{\scshape}
  % \renewcommand{\cftchapterleader}{}
  % \renewcommand{\cftchapterafterpnum}{\cftparfillskip}
  \captiontitlefont{\small}
  % \settocdepth{chapter}
  % \maxsecnumdepth{section}
  % \setsecnumdepth{section}

  % reduce skip after section heading
  \setaftersecskip{1.7ex}

  % set name of bibliography to 'references'
  % \renewcommand{\bibname}{\mdseries\Large\scshape\MakeLowercase References}

  \pretitle{\newline\centering \LARGE\scshape \MakeLowercase }
  \posttitle{\par\vskip 1em}
  \predate{\footnotesize \centering}
  \postdate{\par\vskip 1em}

  % 'abstract' title, bigger skip from title
  \addto\captionsamerican{\renewcommand{\abstractname}{}}
  \abstractrunin
}

%%%
%%% article-2
%%%

% Make the style for Chapters and sections
\makechapterstyle{article-2}{
  \setsecheadstyle{\Large\sffamily}
  \setsubsecheadstyle{\normalsize\itshape}
  \setaftersubsubsecskip{-1em}
  \setsubsubsecheadstyle{\small\bfseries}
  % The following set the format of the numbers
  \renewcommand{\thesection}{\arabic{section}}
  \renewcommand{\printchaptername}{}
  \renewcommand{\chapternamenum}{}
  \renewcommand{\chapnumfont}{\chaptitlefont}
  \renewcommand{\printchapternum}{\chapnumfont \thechapter\space}
  \renewcommand{\afterchapternum}{}
  \renewcommand{\printchaptername}{\secheadstyle}
  \renewcommand{\cftchapterfont}{\normalfont}
  \renewcommand{\cftchapterpagefont}{\normalfont\scshape}
  \renewcommand{\cftchapterpresnum}{\scshape}
  % \renewcommand{\cftchapterleader}{}
  % \renewcommand{\cftchapterafterpnum}{\cftparfillskip}
  \captiontitlefont{\small}
  % \settocdepth{chapter}

  % Set the following to chapter if you don't want section numbers
  % \maxsecnumdepth{subsubsection}
  % \setsecnumdepth{subsubsection}
  \maxsecnumdepth{chapter}
  \setsecnumdepth{chapter}

  % reduce skip after section heading
  \setaftersecskip{1.7ex}

  % set name of bibliography to 'references'
  % The change was introduced in v. 3.0 of biblatex, and as a result
  % the bibliography is printed as a chapter unless
  % \printbibliography[heading=subbibliography] is specified.

  \renewcommand{\bibname}{\mdseries\Large\scshape\MakeLowercase References}
  % \renewcommand{\bibname}{\mdseries\Large\sffamily References}

  % Title flush left
  \pretitle{\begin{flushleft}\LARGE\sffamily}
    \posttitle{\end{flushleft}\par\vskip 0.5em}
  \preauthor{\begin{flushleft}\sffamily\itshape  \Large}
    \postauthor{\end{flushleft}}
  \predate{\begin{flushleft}\sffamily\footnotesize\vspace{0em}}
    % \postdate{\end{flushleft}\par\vskip 2em}
    \postdate{\end{flushleft}\vspace{0em}}

  % 'abstract' title, bigger skip from title
  % \addto\captionsamerican{\renewcommand{\abstractname}{Abstract:}}
  \addto\captionsamerican{\renewcommand{\abstractname}{}}
  \renewcommand{\abstractnamefont}{\normalfont\scriptsize\itshape}
  \renewcommand{\abstracttextfont}{\normalfont\scriptsize}
  \abstractrunin

}

%%%
%%% article-3
%%%

% Make the style for Chapters and sections
\makechapterstyle{article-3}{
  \renewcommand\thesection{\arabic{section}}
  \setsecheadstyle{\Large\sffamily}
  \setsubsecheadstyle{\large\sffamily}
  \setsubsubsecheadstyle{\normalsize\sffamily\itshape}
  \renewcommand{\printchaptername}{}
  \renewcommand{\chapternamenum}{}
  \renewcommand{\chapnumfont}{\chaptitlefont}
  \renewcommand{\printchapternum}{\chapnumfont \thechapter\space}
  \renewcommand{\afterchapternum}{}
  \renewcommand{\printchaptername}{\secheadstyle}
  \renewcommand{\cftchapterfont}{\normalfont}
  \renewcommand{\cftchapterpagefont}{\normalfont\sffamily}
  \renewcommand{\cftchapterpresnum}{\sffamily}
  % \renewcommand{\cftchapterleader}{}
  % \renewcommand{\cftchapterafterpnum}{\cftparfillskip}
  \captiontitlefont{\small}
  \settocdepth{chapter}
  % \maxsecnumdepth{chapter}
  % \setsecnumdepth{chapter}

  \maxsecnumdepth{subsubsection}
  \setsecnumdepth{subsubsection}

  % reduce skip after section heading
  \setaftersecskip{1.7ex}

  % set name of bibliography to 'references'
  % \renewcommand{\bibname}{\mdseries\Large\sffamily\MakeLowercase References}

  % Title
  \pretitle{\par\vskip 3em
    % \begin{flushleft}\Huge\bfseries\sffamily}
    \begin{flushleft}\Huge\sffamily}
    \posttitle{\end{flushleft}\par\vskip 0.5em}
  \preauthor{\begin{flushleft}\large\bigskip}
    \postauthor{\end{flushleft}}
  \predate{\begin{flushleft}\normalsize}
    \postdate{\end{flushleft}}

  % \pretitle{\LARGE \sffamily}
  % \posttitle{\par\vskip 0.5em}
  % \preauthor{\large \sffamily \lineskip 1em}
  % \postauthor{\par\lineskip 1em}
  % \predate{\sffamily\footnotesize\vspace{0.65em}}
  % \postdate{\par\vskip 2em}

  % 'abstract' title, bigger skip from title
  \addto\captionsamerican{\renewcommand{\abstractname}{Abstract:}}
  \renewcommand{\abstractnamefont}{\normalfont\scriptsize\itshape}
  \renewcommand{\abstracttextfont}{\normalfont\scriptsize}
  \abstractrunin

}

%%%
%%% article-4 (AJS)
%%%

%% Make the style for Chapters and sections
\makechapterstyle{article-4}{
  \setsecheadstyle{\Large\scshape\MakeLowercase}
  \setsubsecheadstyle{\normalsize\itshape}
  \setaftersubsubsecskip{-1em}
  \setsubsubsecheadstyle{\small\bfseries}
  \renewcommand{\printchaptername}{}
  \renewcommand{\chapternamenum}{}
  \renewcommand{\chapnumfont}{\chaptitlefont}
  \renewcommand{\printchapternum}{\chapnumfont \thechapter\space}
  \renewcommand{\afterchapternum}{}
  \renewcommand{\printchaptername}{\secheadstyle}
  \renewcommand{\cftchapterfont}{\normalfont}
  \renewcommand{\cftchapterpagefont}{\normalfont\scshape}
  \renewcommand{\cftchapterpresnum}{\scshape}
  % \renewcommand{\cftchapterleader}{}
  % \renewcommand{\cftchapterafterpnum}{\cftparfillskip}
  \captiontitlefont{\small}
  % \settocdepth{chapter}
  \maxsecnumdepth{chapter}
  \setsecnumdepth{chapter}

  % reduce skip after section heading
  \setaftersecskip{1.7ex}

  % set name of bibliography to 'references'
  % \renewcommand{\bibname}{\mdseries\Large\scshape\MakeLowercase References}

  % % Title flush left
  \pretitle{\par\vskip 3em
    \begin{flushleft}\LARGE\bfseries}
    \posttitle{\end{flushleft}\par\vskip 0.5em}
  \preauthor{\begin{flushleft}\normalsize\bigskip}
    \postauthor{\end{flushleft}}
  \predate{\begin{flushleft}\normalsize}
    \postdate{\end{flushleft}}

  % 'abstract' bigger skip from title
  \addto\captionsamerican{\renewcommand{\abstractname}{}}
  \renewcommand{\abstractname}{}
  \renewcommand{\abstracttextfont}{\normalfont\scriptsize}
  \abstractrunin
}


%%%
%%% article-4-sans (AJS, but sans-serif headings)
%%%

%% Make the style for Chapters and sections
\makechapterstyle{article-4-sans}{
  \setsecheadstyle{\Large\sffamily\bfseries}
  \setsubsecheadstyle{\normalsize\sffamily\itshape}
  \setaftersubsubsecskip{-1em}
  \setsubsubsecheadstyle{\small}
  \renewcommand{\printchaptername}{}
  \renewcommand{\chapternamenum}{}
  \renewcommand{\chapnumfont}{\chaptitlefont}
  \renewcommand{\printchapternum}{\chapnumfont \thechapter\space}
  \renewcommand{\afterchapternum}{}
  \renewcommand{\printchaptername}{\secheadstyle}
  \renewcommand{\cftchapterfont}{\normalfont}
  \renewcommand{\cftchapterpagefont}{\normalfont\sffamily}
  \renewcommand{\cftchapterpresnum}{\sffamily}
  % \renewcommand{\cftchapterleader}{}
  % \renewcommand{\cftchapterafterpnum}{\cftparfillskip}
  \captiontitlefont{\small}
  % \settocdepth{chapter}
  \maxsecnumdepth{chapter}
  \setsecnumdepth{chapter}

  %% reduce skip after section heading
  \setaftersecskip{1.7ex}

  %% set name of bibliography to 'references'
  %% \renewcommand{\bibname}{\mdseries\Large\sffamily References}

  % % Title flush left
  \pretitle{\par\vskip 3em
    \begin{flushleft}\Huge\sffamily\bfseries}
    \posttitle{\end{flushleft}\par\vskip 0.5em}
  \preauthor{\begin{flushleft}\Large}
    \postauthor{\end{flushleft}}
  \predate{\begin{flushleft}\normalsize}
    \postdate{\end{flushleft}}

  %% 'abstract' bigger skip from title
  \addto\captionsamerican{\renewcommand*{\abstractname}{}}
  \renewcommand{\abstractnamefont}{\normalfont\scriptsize}
  \renewcommand{\abstracttextfont}{\normalfont\scriptsize}
  \abstractrunin


}

%%%
%%% Custom styles for headers and footers
%%%

%%%
%%% Basic
%%%
\makepagestyle{kjh}
% \makeevenfoot{kjh}{\thepage}{}{}
% \makeoddfoot{kjh}{}{}{\thepage}
% \makeheadrule{kjh}{\textwidth}{\normalrulethickness}
\newcommand{\@kjhmarks}{%
  \let\@mkboth\markboth
  \def\chaptermark##1{%
    \markboth{%
      \ifnum \c@secnumdepth >\m@ne
      \if@mainmatter
      \thechapter. \ %
      \fi
      \fi
      ##1}{}}
  \def\sectionmark##1{%
    \markright{##1}}
}
\makepsmarks{kjh}{\@kjhmarks}
\makepsmarks{kjh}{}
\makeevenfoot{kjh}{\scshape\thepage}{}{}
\makeoddfoot{kjh}{}{}{\scshape\thepage}

%%%
%%% Book Headers
%%%
\makepagestyle{bkbook}
\makeoddhead{bkbook}{\sffamily\footnotesize\leftmark}{}{\sffamily\footnotesize
  Food Politics}
\makeevenhead{bkbook}{\sffamily\footnotesize Food Politics}{}{\sffamily\footnotesize\rightmark}
\makeoddfoot{bkbook}{\scshape\thepage}{}{}
\makeevenfoot{bkbook}{}{}{\scshape\thepage}
\makepsmarks{bkbook}{
  \nouppercaseheads
  \createmark{chapter}{both}{shownumber}{\@chapapp\ }{. \ }
  \createmark{section}{right}{nonumber}{}{}
}

%%%
%%% Amazon Confidential
%%%
\makepagestyle{amz}
\makeevenhead{amz}{\sffamily\footnotesize Amazon Confidential}{}{\sffamily\footnotesize\thepage}
\makeoddhead{amz}{\sffamily\footnotesize Amazon Confidential}{}{\sffamily\footnotesize\thepage}
\makeheadposition{amz}{flushleft}{flushright}{}{}
\makerunningwidth{amz}{\textwidth}

%%%
%%% ACE 456 Lecture Notes
%%%
\makepagestyle{ace456}
\makeevenhead{ace456}{\sffamily\footnotesize Prof. Barrett Kirwan
  / ACE 456 / Spring 2017}{}{\sffamily\footnotesize\thepage}
\makeoddhead{ace456}{\sffamily\footnotesize Prof. Barrett Kirwan /
  ACE 456 / Spring 2017}{}{\sffamily\footnotesize\thepage}
\makeheadposition{ace456}{flushleft}{flushright}{}{}
\makerunningwidth{ace456}{\textwidth}


%%%
%%% ACE 592 Homework
%%%
\makepagestyle{ace592hw}
\makeevenhead{ace592hw}{\sffamily\footnotesize Prof. Barrett Kirwan
  / ACE 592 / Fall 2015}{}{\sffamily\footnotesize\thepage}
\makeoddhead{ace592hw}{\sffamily\footnotesize Prof. Barrett Kirwan /
  ACE 592 / Fall 2015}{}{\sffamily\footnotesize\thepage}
\makeheadposition{ace592hw}{flushleft}{flushright}{}{}
\makerunningwidth{ace592hw}{\textwidth}


%%%
%%% ACE 592ME Lecture Notes
%%%
% August 23, 2015
% This is totally messed up. I want to put the chapter name in the header on the right of the odd page, which is the right (recto) page. And I want to put whatever the section heading happens to be at the time on the left of the even page, which is the left (verso) page. If I create the chapter as the \leftmark and the section as the \rightmark, however, and put the \leftmark in the \makeevenhead command and put the \rightmark in the \makeoddhead command, then I  get the section name on the left of the even pages and nothing on the right of the odd pages.

% Works
% 1. chapter-->leftmark-->oddhead & section-->rightmark-->evenhead ==> looks the way I want it to.

% Doesn't work: Opposite of what I want
% 2. chapter-->leftmark-->evenhead & section-->rightmark-->oddhead ==> section title in header on the odd pages and chapter title in header on the even pages

% Doesn't work: NO chapter title in header
% 2. section-->leftmark-->evenhead & chapter-->rightmark-->oddhead ==> section title in header on the even pages and NO chapter title in header on the odd pages

% 3. section-->leftmark-->oddhead & chapter-->rightmark-->evenhead ==> section title in header on the odd pages and NO chapter title in header on the even pages

% Conclusions
% - Chapter does not work as a rightmark if section is the leftmark
% - Is Chapter leftmark by default and section rightmark by default???
% - Chaptermark is created with \markboth while sectionmark is created by \markright, so chaptermark ends up being, essentially, \leftmark

% The current chapter and section titles are obtained from the \leftmark and \rightmark macros which are defined via the \chaptermark and \sectionmark macros. Remember that \leftmark is the last ⟨left⟩ marker and \rightmark is the first ⟨right⟩ marker on the page.


\makepagestyle{ace592}
\makerunningwidth{ace592}{6.5in}
\makeheadposition{ace592}{flushright}{flushright}{flushright}{flushright}
\makeevenhead{ace592}{\sffamily\footnotesize\rightmark}{}{\sffamily\footnotesize Prof. Barrett Kirwan / ACE 592 ME / Fall 2015}
\makeoddhead{ace592}{\sffamily\footnotesize Prof. Barrett Kirwan /  ACE 592 ME / Fall 2015}{}{\sffamily\footnotesize\leftmark}
\makeevenfoot{ace592}{\sffamily\footnotesize\thepage}{}{}
\makeoddfoot{ace592}{}{}{\sffamily\footnotesize\thepage}

\makepsmarks{ace592}{%
  \nouppercaseheads
  \clearmark{toc}
  \clearmark{chapter}
  \clearmark{section}
  \createmark{section}{right}{nonumber}{}{}
  \createmark{chapter}{left}{nonumber}{}{}
  \createplainmark{toc}{both}{\contentsname}
  \createplainmark{lof}{both}{\listfigurename}
  \createplainmark{lot}{both}{\listtablename}
  \createplainmark{bib}{both}{\bibname}
  \createplainmark{index}{both}{\indexname}
  \createplainmark{glossary}{both}{\glossaryname}
}
% \makeheadposition{ace592}{flushleft}{flushright}{}{}
% \makerunningwidth{ace592}{\textwidth

% \newcommand{\@kjhmarks}{%
% \let\@mkboth\markboth
% \def\chaptermark##1{%
% \markboth{%
% \ifnum \c@secnumdepth >\m@ne
% \if@mainmatter
% \thechapter. \ %
% \fi
% \fi
% ##1}{}}
% \def\sectionmark##1{%
% \markright{##1}}
% }
%   \makepsmarks{ace592}{\@kjhmarks}


%%%
%%%   RCS in footer
%%%

%   Make the style for RCS revision control headers and footers
\makepagestyle{kjhrcs}
% \makeheadrule{kjhrcs}{\textwidth}{\normalrulethickness}
\newcommand{\@kjhrcsmarks}{%
  \let\@mkboth\markboth
  \def\chaptermark##1{%
    \markboth{%
      \ifnum \c@secnumdepth >\m@ne
      \if@mainmatter
      \thechapter. \ %
      \fi
      \fi
      ##1}{}}
  \def\sectionmark##1{%
    \markright{##1}}
}
\makepsmarks{kjhrcs}{\@kjhrcsmarks}
% \makeevenhead{kjhrcs}{\footnotesize\scshape\leftmark}{}{\scshape\thepage}
% \makeoddhead{kjhrcs}{}{}{\footnotesize\rightmark\normalsize\ \ \scshape\thepage}
\makeevenfoot{kjhrcs}{\texttt{\footnotesize\rcsInfoFile}}{\scshape\thepage}{\footnotesize \emph{Rev} \texttt{\rcsInfoRevision \  \rcsInfoDate}}
\makeoddfoot{kjhrcs}{\texttt{\footnotesize\rcsInfoFile}}{\scshape\thepage}{\footnotesize \emph{Rev} \texttt{\rcsInfoRevision \ \rcsInfoDate}}



%%%
%%% Mercurial rev info in footers
%%%

% Make the style for hg revision control headers and footers
\makepagestyle{kjhhg}
% \makeheadrule{kjhhg}{\textwidth}{\normalrulethickness}
\newcommand{\@kjhhgmarks}{%
  \let\@mkboth\markboth
  \def\chaptermark##1{%
    \markboth{%
      \ifnum \c@secnumdepth >\m@ne
      \if@mainmatter
      \thechapter. \ %
      \fi
      \fi
      ##1}{}}
  \def\sectionmark##1{%
    \markright{##1}}
}
\makepsmarks{kjhhg}{\@kjhhgmarks}
% \makeevenhead{kjhhg}{\footnotesize\scshape\leftmark}{}{\scshape\thepage}
% \makeoddhead{kjhhg}{}{}{\footnotesize\rightmark\normalsize\ \ \scshape\thepage}
\makeevenfoot{kjhhg}{\texttt{\footnotesize \hgkw{Filename}}}{\scshape\thepage}{\texttt{\footnotesize Rev \hgkw{LastChangedRevision} on \hgfilemonth\ \hgfileday, \hgfileyear}}
\makeoddfoot{kjhhg}{\texttt{\footnotesize \hgkw{Filename}}}{\scshape\thepage}{\texttt{\footnotesize Rev \hgkw{LastChangedRevision} on \hgfilemonth\ \hgfileday, \hgfileyear}}



%%%
%%% Git info in footers; requires vc package
%%%

% Make the style for vc-git revision control headers and footers
\makepagestyle{kjhgit}
% \makeheadrule{kjhgit}{\textwidth}{\normalrulethickness}
\newcommand{\@kjhgitmarks}{%
  \let\@mkboth\markboth
  \def\chaptermark##1{%
    \markboth{%
      \ifnum \c@secnumdepth >\m@ne
      \if@mainmatter
      \thechapter. \ %
      \fi
      \fi
      ##1}{}}
  \def\sectionmark##1{%
    \markright{##1}}
}
\makepsmarks{kjhgit}{\@kjhgitmarks}
% \makeevenhead{kjhgit}{\footnotesize\scshape\leftmark}{}{\scshape\thepage}
% \makeoddhead{kjhgit}{}{}{\footnotesize\rightmark\normalsize\ \ \scshape\thepage}
\makeevenfoot{kjhgit}{}{\scshape\thepage}{\texttt{\footnotesize \VCRevision\ on \VCDateTEX}}
\makeoddfoot{kjhgit}{}{\scshape\thepage}{\texttt{\footnotesize \VCRevision\ on \VCDateTEX}}

% Make the style for vc-git revision control headers and footers
\makepagestyle{acegit}
% \makeheadrule{kjhgit}{\textwidth}{\normalrulethickness}
\newcommand{\@acegitmarks}{%
  \let\@mkboth\markboth
  \def\chaptermark##1{%
    \markboth{%
      \ifnum \c@secnumdepth >\m@ne
      \if@mainmatter
      \thechapter. \ %
      \fi
      \fi
      ##1}{}}
  \def\sectionmark##1{%
    \markright{##1}}
}
\makepsmarks{acegit}{\@acegitmarks}
\makeevenhead{acegit}{\footnotesize\sffamily Spring 2015 / Agricultural and Consumer Economics / Prof. Barrett Kirwan}{}{}
\makeoddhead{acegit}{\footnotesize\sffamily Spring 2015 / Agricultural and Consumer Economics / Prof. Barrett Kirwan}{}{}
\makeevenfoot{acegit}{}{\scshape\thepage}{\texttt{\footnotesize \VCRevision\ on \VCDateTEX}}
\makeoddfoot{acegit}{}{\scshape\thepage}{\texttt{\footnotesize \VCRevision\ on \VCDateTEX}}

%%%
%%% Custom appendix
%%%

% % Make the style for headers and footers in the Appendix
% \makepagestyle{kjhappendix}
% % \makeevenfoot{kjh}{\thepage}{}{}
% % \makeoddfoot{kjh}{}{}{\thepage}
% \makeheadrule{kjhapp}{\textwidth}{\normalrulethickness}
% \newcommand{\@kjhappmarks}{%
% \let\@mkboth\markboth

% \markboth{%
% \ifnum \c@secnumdepth >\m@ne
% \if@mainmatter
% \thechapter. \ %
% \fi
% \fi
% ##1}{}}
% \def\sectionmark##1{%
% \markright{##1}}
% }
%   \makepsmarks{kjhappendix}{\@kjhappmarks}
%   \makeevenhead{kjhappendix}{\footnotesize\scshape Appendix}{}{\scshape\thepage}
%   \makeoddhead{kjhappendix}{}{}{\footnotesize Data and Methods for \rightmark\normalsize\ \ \scshape\thepage}

%%   Create a command to make a note at the top of the first page describing the
%%   publication status of the paper.
\newcommand{\published}[1]{%
  \gdef\puB{#1}}
\newcommand{\puB}{}
\renewcommand{\maketitlehooka}{%
  \par\vspace{-1in}\noindent\footnotesize \puB}

%% Create a command to make a note at the top of the first page
%% with the class details (or whatever)
% \newcommand{\topline}[1]{%
% \gdef\toP{#1}}
% \newcommand{\toP}{}
% \renewcommand{\maketitlehooka}{%
% \par\hspace{-6em}\footnotesize \toP}

%% This puts the subsubsection headings in the left margin.
\newcommand{\marginbox}[1]{\parbox[t][0pt]{1in}{\small\bfseries\raggedleft\mbox{} #1}}
\newcommand{\marginhead}[1]{{\llap{\marginbox{#1}\kern1em}}}

%% Create a command to put a normal, consistent title on table of contents
\newcommand{\normaltoc}{%
  \renewcommand{\contentsname}{Contents}
  \renewcommand{\printtoctitle}{\centering\Large\sffamily\itshape}
  \renewcommand{\tocheadstart}{\par\vskip 0.5em}
  \renewcommand{\aftertoctitle}{\par\vskip 2em}
}
\endinput
